# file_monitor AppVeyor Configuration

# We currently only officially support VS 2017
image: Visual Studio 2017

matrix:
  fast_finish: true

clone_folder: c:\projects\file_monitor

environment:
  PYTHON: "C:\Python38-x64"

before_build:
  - SET PATH=%PYTHON%;%PATH%
  - pip install conan
  - mkdir "c:\projects\file_monitor_build"
  - cd "c:\projects\file_monitor_build"
  - conan remote add bincrafters https://api.bintray.com/conan/bincrafters/public-conan
  - conan install ../file_monitor -s build_type=Release
  - cmake -G "Visual Studio 15 2017 Win64" \
          "c:\projects\file_monitor"

build_script:
  - cmake --build "c:\projects\file_monitor_build" --config Release

